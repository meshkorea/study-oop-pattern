## 다형성과 추상 타입
___
### 상속 개요
* 상위 객체의 필드(속성)와 메소드를 하위 객체에 물려주는 행
* 재 사용성을 높이고, 코드의 중복을 제거하여 생산성과 유지보수 좋게 함

<pre>
<code>
public class A {
    int a = 5;
    public void printA(){
        System.out.println("I am a = " + a + " in Class A");
    }
}
// B가 A를 상
public class B extends A {
    int b = a;

    public void printB(){
        System.out.println("I am b = " + b + " in Class B");
    }
}

public class ABTest{
    public static void main(String[] args) {
        A a = new A();
        B b = new B();
        a.printA();
        b.printB();
        b.printA();
    }
}
</code>
</pre>
* 하위 클래스 필요에 따라 상위 클래스에 정의된 메서드를 새롭게 구현(Overriding)
* 자바의 클레스간 상속은 트리 구조의 상속, 즉 한 자녀가 여러 부모를 가질 수 없는 '단일상속'구조
* 자바는 '인터페이스 (Interface)' 의 상속에 있어서는 다중상속을 지원함

### 다형성과 상속
* 한 객체가 여러 가지 모습을 갖는다 것을 의

<pre>
<code>
interface Animal{
    void eat();
}

class Action(){
    void run(){
        System.out.println("Run...");
    }
}

class Pig extends Action implements Animal{
    void eat(){
        System.out.println("eat all something");
    }
    void run(){
        System.out.println("pig run");
    }
}
class Monkey extends Action implements Animal{
    void eat(){
        System.out.println("eat a banana");
    }
    void run(){
        System.out.println("Monkey run");
    }
}

class Eating{
    public static void main(String[] args){
        Pig pig = new Animal();
        Monkey monkey = new Animal();
        pig.eat();
        pig.run();
        monkey.eat();
        monkey.run();
    }
}
</code>
</pre>

### 추상 타입과 유연함
* 추상화Abstraction란? 추상화의 사전적 의미는 특정한 개별 사물과 관련되지 않은 공통된 속성이나 관계 등을 뽑아내는 것이다. 
  이를 컴퓨터 관점에서 생각해보면, 추상화란 데이터나 프로세스 등을 의미가 비슷한 개념이나 표현으로 정의해 나가는 과정이면서 동시에 각 개별 개체의 구현에 대한 상세함은 감추는 것, 
  이것이 추상화라고 할 수 있다
* 추상화를 하게 되면 상세한 구현이 아닌 공통된 개념과 관계에 집중할 수 있게 되는데, 이는 큰 수준에서 시스템을 이해할 수 있도록 도와준다
* 재사용
    * 용어 : 한 번 사용된 제품을, 그대로 또는 제품이 있는 부품을 그대로 다시 사용하는 것
    * 코드 재사용은 어떤 시점에 쓰여진 프로그램의 일부 또는 전부를 이후의 다른 프로그램을 만들 때 사용하는 것
    * 소프트웨어를 보다 재사용하기 쉽게 하는 특성을 모듈성, 저결합도, 고응집도, 캡슐화, 관심의 분리 등으로 부른다
    
### 재사용 : 상속보단 조립
#### 상속과 재사용
* 상속을 통한 재 사용의 단점 
    * 상위 클래스 변경의 어려움
      > 어떤 클래스를 상속받는다는 것은 해당 클래스에 의존한다는 뜻이다. 
        따라서, 의존하는 클래스의 코드가 변경되면 영향을 받을 수 있다는 것이다. 
        결과적으로 상위 클래스의 변경 여파가 계층적으로 하위 클래스에 전파가 된다.
        위와 같은 이유로, 클래스 계층도에 있는 모든 클래스을 한 개의 거대한 단일 구조처럼 만들어 주는 결과를 초래한다. 
        따라서, 클래스 계층도가 커질수록 상위 클래스를 변경하는 것은 점점 어려워진다.(경직성)
    * 클래스의 불필요한
      > 다중 상속을 할 수 없는 자바에서는 한 개의 클래스만 상속받고 다른 기능은 별도로 구현해야 한다. 
        필요한 기능의 조합이 증가할수록(새로운 요구가 추가될수록), 상속을 통한 기능 재사용을 하게 되 클래스의 개수는 함께 증가하게 된다
    * 상속의 오용
      > 상속 자체를 잘못 사용할 수 있다.
      
#### 조립을 이용한 재 사용
* 여러객체를 묶어서 더 복잡한 기능을 제공
* 보통필드로 다른 객체를 참조하는 방식으로 조립 또는 객체를 필요시점에 생성
* 상속하기에 앞서 조립으로 풀 수 없는지 검토를 먼저 해볼 것
* 진짜 하위타입인 경우에만 상속을 사용한다.
#### 위임
* 자기 대신 처리 할 수 있는 객체에게 메시징을 함으로써 책임을 넘기는 것
<pre>
<comment>
public class Grade {
    private Evaluation evaluation = new Evaluation();
    public void push(String subject, int data) {
       evaluation.add(subject, data);
    }
    public void revise(String subject, int data) {
       evaluation.change(subject, data);
    }
    public String view(String contents) {
       return evaluation.result(contents);
    }
    public int size() { // 위임 메소드를 서브 클래스에 추가했다
       return evaluation.size();
    }
}
</comment>
</pre>