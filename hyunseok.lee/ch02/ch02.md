# Ch.02 객체 지향

## 절차지향
프로시저(Procedure)로 프로그램을 구성하는 기법을 절차 지향(Procedural Oriented) 프로그래밍이라고 부른다.

다수의 프로시저들이 데이터를 공유하는 방식으로 만들어지기 때문에, 절차 지향 프로그래밍은 자연스럽게 데이터를 중심으로 구현하게 된다.

절차 지향 프로그래밍은 프로그램 규모가 커질 수록 다음과 같은 문제들이 발생하게 된다.
- 데이터 타입이나 의미를 변경해야 할 때, 함께 수정해야 하는 프로시저가 증가한다.
- 같은 데이터를 프로시저들이 서로 다른 의미로 사용하는 경우가 발생한다.

## 객체지향

객체 지향은 데이터 및 데이터와 관련된 프로시저를 객체(object)라고 불리는 단위로 묶는다. 

## 객체

### 객체의 핵심은 기능을 제공하는 것
객체를 정의할 때 사용되는 것은 객체가 제공해야 할 기능이며, 객체가 내부적으로 어떤 데이터를 갖고 있는 지로는 정의되지 않는다.

### 인터페이스와 클래스
보통 객체가 제공하는 기능을 오퍼레이션이라고 부른다.

오퍼레이션의 사용법은 일반적으로 다음과 같이 세 개로 구성되며, 이 세 가지를 합쳐서 시그너처라고 부른다.
- 기능 식별 이름
- 파라미터 및 파라미터 타입
- 기능 실행 결과 값

객체가 제공하는 모든 오퍼레이션 집합을 객체의 인터페이스라고 부르며, 서로 다른 인터페이스를 구분할 때 사용되는 명칭이 바로 타입이다.

실제 객체의 구현을 정의하는 것은 클래스이다.

개념적으로 인터페이스와 클래스는 구분되어 있지만, 실제로 자바나 C# 등의 언어는 인터페이스와 클래스가 각 언어에서 클래스라고 부르는 것에 함께 정의되어 있다... 객체 간의 인터페이스를 맞춘다고 할 때에는 개념적인 의미의 인터페이스를 뜻하는 것이지 각 언어에서 제공하는 인터페이스가 아님에 유의해야 한다.

### 메시지

오퍼레이션의 실행을 요청(request)하는 것을 '메시지(message)를 보낸다'고 표현한다.

자바와 같은 언어에서는 메서드를 호출하는 것이 메시지를 보내는 과정에 해당된다.

## 객체의 책임과 크기

한 객체가 갖는 책임을 정의한 것이 바로 타입/인터페이스라고 생각하면 된다.

객체가 갖는 책임의 크기는 작을수록 좋다.
- 한 객체에 많은 기능이 포함되면, 그 기능과 관련된 데이터들도 한 객체에 모두 포함된다.
- 이 구조는 객체에 정의된 많은 오퍼레이션들이 데이터를 공유하는 방식으로 프로그래밍된다는 것, 즉 절차 지향 방식과 동일한 구조가 된다는 것을 의미한다.

## 의존

한 객체가 다른 객체를 생성하거나 다른 객체의 메서드를 호출할 때, 이를 그 객체에 의존한다고 표현한다.

객체를 생성하든 메서드를 호출하든 또는 파라미터로 전달받든 다른 타입에 의존을 한다는 것은 의존하는 타입에 변경이 발생할 때 나도 함께 변경될 가능성이 높다는 것을 뜻한다.

의존의 영향은 꼬리에 꼬리를 문 것처럼 전파되는 특징을 갖는다.

의존이 순환해서 발생할 경우 다른 방법이 없는지 고민해야 한다.

순환 의존이 발생하지 않도록 하는 원칙 중이 하나로 의존 역전 원칙이 있다.

## 캡슐화

객체 지향은 기본적으로 캡슐화를 통해서 한 곳의 변화가 다른 곳에 미치는 영향을 최소화한다.

캡슐화는 객체가 내부적으로 기능을 어떻게 구현하는지를 감추는 것이다. 이를 통해 내부의 기능 구현이 변경되더라도 그 기능을 사용하는 코드는 영향을 받지 않도록 만들어 준다. 즉, 내부 구현 변경의 유연함을 주는 기법이 바로 캡슐화이다.

캡슐화를 위한 두 개의 규칙
- Tell, Don't Ask
  - 데이터를 물어보지 말고, 기능을 실행해 달라라고 말하라는 규칙
  - 데이터를 읽는 것은 데이터를 중심으로 코드를 작성하게 만드는 원인이 되며, 따라서 절차 지향적인 코드를 유도하게 된다. 
- Law of Demeter
    - 메서드에서 생성한 객체의 메서드만 호출
    - 파라미터로 받은 객체의 메서드만 호출
    - 필들 참조하는 객체의 메서드만 호출
    
## 객체 지향 설계 과정
1. 제공해야 할 기능을 찾고 또는 세분화하고, 그 기능에 알맞은 객체에 할당한다.
    - 기능을 구현하는 데 필요한 데이터를 객체에 추가한다. 객체에 데이터를 먼저 추가하고 그 데이터를 이용하는 기능을 넣을 수도 있다.
    - 기능은 최대한 캡슐화해서 구현한다.
2. 객체 간에 어떻게 메시지를 주고받을 지 결정한다.
3. 과정 1과 과정 2를 개발하는 동안 지속적으로 반복한다.
   



